# ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã‚¦ã‚©ãƒ¬ãƒƒãƒˆ + ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«å®Ÿè£…è¨ˆç”»

**æœ€çµ‚æ›´æ–°**: 2025-10-27
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: å®Ÿè£…é–‹å§‹

---

## ğŸ“‹ æ¦‚è¦

Gifterraã‚’ãƒ¡ã‚¤ãƒ³ãƒãƒƒãƒˆç§»è¡Œã™ã‚‹ã«ã‚ãŸã‚Šã€ä»¥ä¸‹ã®2ã¤ã®ä¸»è¦æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¾ã™ï¼š

1. **ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã‚¦ã‚©ãƒ¬ãƒƒãƒˆè¨­è¨ˆ**
   - ã‚¹ãƒãƒ¼ãƒˆã‚¦ã‚©ãƒ¬ãƒƒãƒˆï¼ˆãƒ¡ãƒ¼ãƒ«/SNSãƒ­ã‚°ã‚¤ãƒ³ + ã‚¬ã‚¹ãƒ¬ã‚¹ï¼‰
   - å¤–éƒ¨ã‚¦ã‚©ãƒ¬ãƒƒãƒˆï¼ˆMetaMaskç­‰ã®ç›´æ¥æ¥ç¶šï¼‰
   - ä¸¡æ–¹ã‚’ã‚·ãƒ¼ãƒ ãƒ¬ã‚¹ã«çµ±åˆ

2. **ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒšãƒ¼ã‚¸**
   - SBT/ãƒ©ãƒ³ã‚¯/è²¢çŒ®åº¦ã®å¯è¦–åŒ–
   - ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£å±¥æ­´
   - ã‚½ãƒ¼ã‚·ãƒ£ãƒ«å…±æœ‰æ©Ÿèƒ½

---

## ğŸ¯ å®Ÿè£…ã®ç›®çš„

### ãªãœä»Šã‚„ã‚‹ã®ã‹

```
JPYCç™ºè¡Œã¨ã„ã†ä¸€åº¦ãã‚Šã®ãƒãƒ£ãƒ³ã‚¹:
- æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼å¤§é‡æµå…¥ãŒè¦‹è¾¼ã¾ã‚Œã‚‹
- åˆå¿ƒè€…ã«ã‚‚ä¸Šç´šè€…ã«ã‚‚å¯¾å¿œãŒå¿…è¦
- ã€Œç››ã‚Šç››ã‚Šæˆ¦ç•¥ã€ã§å·®åˆ¥åŒ–
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆã®æœ€å¤§åŒ–

â†’ å®Œç’§ãªçŠ¶æ…‹ã§ãƒ­ãƒ¼ãƒ³ãƒ
```

### æœŸå¾…ã•ã‚Œã‚‹åŠ¹æœ

| æŒ‡æ¨™ | Before | After | æ”¹å–„ç‡ |
|------|--------|-------|--------|
| æ–°è¦ç™»éŒ²å®Œäº†ç‡ | 10% | 80% | 8å€ |
| é›¢è„±ç‡ | 90% | 20% | 4.5å€æ”¹å–„ |
| å¹³å‡æ»åœ¨æ™‚é–“ | 3åˆ† | 15åˆ† | 5å€ |
| SNSã‚·ã‚§ã‚¢ | ãªã— | é«˜é »åº¦ | âˆ |
| ãƒªãƒ”ãƒ¼ãƒˆç‡ | 20% | 60% | 3å€ |

---

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### å…¨ä½“æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Gifterra Frontend              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Wallet Connection Layer          â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                                   â”‚  â”‚
â”‚  â”‚  ğŸ”¹ Smart Wallet (æ¨å¥¨)          â”‚  â”‚
â”‚  â”‚    â”œâ”€ Embedded Wallet             â”‚  â”‚
â”‚  â”‚    â”‚   â”œâ”€ Email Auth              â”‚  â”‚
â”‚  â”‚    â”‚   â”œâ”€ Google OAuth            â”‚  â”‚
â”‚  â”‚    â”‚   â””â”€ Discord OAuth           â”‚  â”‚
â”‚  â”‚    â”œâ”€ MetaMask (via Smart Wallet) â”‚  â”‚
â”‚  â”‚    â””â”€ WalletConnect               â”‚  â”‚
â”‚  â”‚                                   â”‚  â”‚
â”‚  â”‚  ğŸ”¹ External Wallet (ä¸Šç´šè€…)      â”‚  â”‚
â”‚  â”‚    â”œâ”€ MetaMask                    â”‚  â”‚
â”‚  â”‚    â”œâ”€ WalletConnect               â”‚  â”‚
â”‚  â”‚    â””â”€ Coinbase Wallet             â”‚  â”‚
â”‚  â”‚                                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  User Profile System              â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚  - /user/:address                 â”‚  â”‚
â”‚  â”‚  - SBT Gallery                    â”‚  â”‚
â”‚  â”‚  - Rank & Stats                   â”‚  â”‚
â”‚  â”‚  - Activity Feed                  â”‚  â”‚
â”‚  â”‚  - Social Share                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Gas Sponsorship Engine           â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚  - Paymaster (thirdweb)           â”‚  â”‚
â”‚  â”‚  - Sponsorship Rules              â”‚  â”‚
â”‚  â”‚  - Cost Tracking                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Polygon Mainnet / Amoy             â”‚
â”‚  - Gifterra Contract (SBT)              â”‚
â”‚  - RewardNFT Contract                   â”‚
â”‚  - PaymentSplitter                      â”‚
â”‚  - JPYC ERC20                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ Phase 1: ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã‚¦ã‚©ãƒ¬ãƒƒãƒˆå®Ÿè£…

### 1.1 ä¾å­˜é–¢ä¿‚ã®è¿½åŠ 

```bash
# å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
pnpm add @thirdweb-dev/react@latest
pnpm add @thirdweb-dev/wallets@latest
```

**ç¾åœ¨ã®çŠ¶æ³ç¢ºèª**:
- `@thirdweb-dev/react`: æ—¢ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ âœ…
- ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèªãŒå¿…è¦

### 1.2 ç’°å¢ƒå¤‰æ•°ã®è¨­å®š

**.env.example ã«è¿½åŠ **:
```bash
# Smart Wallet Configuration
VITE_SMART_WALLET_FACTORY=0x...  # thirdweb Factory Address
VITE_PAYMASTER_URL=https://...   # Paymaster Endpoint

# Embedded Wallet (Email/Social Login)
VITE_THIRDWEB_CLIENT_ID=your_client_id_here

# WalletConnect
VITE_WALLETCONNECT_PROJECT_ID=your_project_id_here
```

### 1.3 ã‚¦ã‚©ãƒ¬ãƒƒãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

**src/config/wallets.ts** (æ–°è¦ä½œæˆ):
```typescript
import {
  metamask,
  walletConnect,
  coinbaseWallet,
  smartWallet,
  embeddedWallet,
  SmartWalletConfig,
} from "@thirdweb-dev/react";

// ã‚¹ãƒãƒ¼ãƒˆã‚¦ã‚©ãƒ¬ãƒƒãƒˆã®è¨­å®š
export const smartWalletConfig: SmartWalletConfig = {
  factoryAddress: import.meta.env.VITE_SMART_WALLET_FACTORY || "",
  gasless: true,

  // ã‚¹ãƒãƒ¼ãƒˆã‚¦ã‚©ãƒ¬ãƒƒãƒˆå†…ã§ä½¿ãˆã‚‹å€‹äººã‚¦ã‚©ãƒ¬ãƒƒãƒˆ
  personalWallets: [
    // Embedded Walletï¼ˆãƒ¡ãƒ¼ãƒ«/SNSãƒ­ã‚°ã‚¤ãƒ³ï¼‰
    embeddedWallet({
      recommended: true,
      auth: {
        options: [
          "email",    // ãƒ¡ãƒ¼ãƒ«èªè¨¼
          "google",   // Googleãƒ­ã‚°ã‚¤ãƒ³
          "discord",  // Discordãƒ­ã‚°ã‚¤ãƒ³
        ],
      },
    }),

    // MetaMaskï¼ˆã‚¹ãƒãƒ¼ãƒˆã‚¦ã‚©ãƒ¬ãƒƒãƒˆçµŒç”±ï¼‰
    metamask(),

    // WalletConnectï¼ˆã‚¹ãƒãƒ¼ãƒˆã‚¦ã‚©ãƒ¬ãƒƒãƒˆçµŒç”±ï¼‰
    walletConnect({
      projectId: import.meta.env.VITE_WALLETCONNECT_PROJECT_ID || "",
    }),
  ],
};

// ã‚µãƒãƒ¼ãƒˆã™ã‚‹ã‚¦ã‚©ãƒ¬ãƒƒãƒˆä¸€è¦§
export const supportedWallets = [
  // ãƒ¡ã‚¤ãƒ³: ã‚¹ãƒãƒ¼ãƒˆã‚¦ã‚©ãƒ¬ãƒƒãƒˆ
  smartWallet(smartWalletConfig),

  // ã‚µãƒ–: å¤–éƒ¨ã‚¦ã‚©ãƒ¬ãƒƒãƒˆç›´æ¥æ¥ç¶šï¼ˆä¸Šç´šè€…å‘ã‘ï¼‰
  metamask(),
  walletConnect({
    projectId: import.meta.env.VITE_WALLETCONNECT_PROJECT_ID || "",
  }),
  coinbaseWallet(),
];

// ã‚¬ã‚¹ã‚¹ãƒãƒ³ã‚µãƒ¼ã‚·ãƒƒãƒ—ã®è¨­å®š
export const gasSponsorshipConfig = {
  // æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼: æœ€åˆã®5ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç„¡æ–™
  firstTransactions: 5,

  // Tipæ©Ÿèƒ½: å¸¸ã«ç„¡æ–™ï¼ˆ1000 JPYCä»¥ä¸‹ï¼‰
  sponsoredFunctions: {
    tip: {
      enabled: true,
      maxAmount: "1000000000000000000000", // 1000 * 10^18
    },
  },

  // GIFT HUBè³¼å…¥: 100 JPYCä»¥ä¸‹ã¯ç„¡æ–™
  purchase: {
    enabled: true,
    threshold: "100000000000000000000", // 100 * 10^18
  },
};
```

### 1.4 ãƒ¡ã‚¤ãƒ³App.tsxã®æ›´æ–°

**src/App.tsx** (æ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¿®æ­£):
```typescript
import { ThirdwebProvider } from "@thirdweb-dev/react";
import { PolygonAmoyTestnet, Polygon } from "@thirdweb-dev/chains";
import { supportedWallets } from "./config/wallets";
import { getNetworkEnv } from "./config/tokens";

function App() {
  const network = getNetworkEnv();
  const activeChain = network === "mainnet" ? Polygon : PolygonAmoyTestnet;

  return (
    <ThirdwebProvider
      activeChain={activeChain}
      clientId={import.meta.env.VITE_THIRDWEB_CLIENT_ID}
      supportedWallets={supportedWallets}
      authConfig={{
        domain: window.location.origin,
        authUrl: "/api/auth",
      }}
    >
      <Router>
        {/* æ—¢å­˜ã®ãƒ«ãƒ¼ãƒˆ */}
      </Router>
    </ThirdwebProvider>
  );
}
```

### 1.5 ã‚«ã‚¹ã‚¿ãƒ æ¥ç¶šUIã®å®Ÿè£…

**src/components/wallet/ConnectWalletModal.tsx** (æ–°è¦ä½œæˆ):
```typescript
import { useState } from "react";
import { ConnectWallet, useAddress } from "@thirdweb-dev/react";

export function ConnectWalletModal({
  isOpen,
  onClose
}: {
  isOpen: boolean;
  onClose: () => void;
}) {
  const [showAdvanced, setShowAdvanced] = useState(false);
  const address = useAddress();

  // æ¥ç¶šæ¸ˆã¿ã®å ´åˆã¯é–‰ã˜ã‚‹
  if (address) {
    onClose();
    return null;
  }

  if (!isOpen) return null;

  return (
    <div className="modal-overlay">
      <div className="connect-wallet-modal">
        {/* ãƒ˜ãƒƒãƒ€ãƒ¼ */}
        <div className="modal-header">
          <h2>ğŸ Gifterra ã¸ã‚ˆã†ã“ã</h2>
          <button onClick={onClose}>âœ•</button>
        </div>

        {/* ãƒ¡ã‚¤ãƒ³æ¥ç¶šæ–¹æ³• */}
        <div className="primary-connection">
          <h3>ç°¡å˜ã«ãƒ­ã‚°ã‚¤ãƒ³</h3>

          {/* ãƒ¡ãƒ¼ãƒ«/SNSãƒ­ã‚°ã‚¤ãƒ³ï¼ˆã‚¹ãƒãƒ¼ãƒˆã‚¦ã‚©ãƒ¬ãƒƒãƒˆï¼‰ */}
          <ConnectWallet
            theme="dark"
            modalTitle="ãƒ­ã‚°ã‚¤ãƒ³æ–¹æ³•ã‚’é¸æŠ"
            modalSize="wide"
            className="connect-button primary"
          />

          <p className="benefit">
            âœ¨ ã‚¬ã‚¹ä»£ç„¡æ–™
            âœ¨ ãƒ¡ãƒ¼ãƒ«ã§ç°¡å˜
            âœ¨ å®‰å…¨ãƒ»éã‚«ã‚¹ãƒˆãƒ‡ã‚£ã‚¢ãƒ«
          </p>
        </div>

        {/* åŒºåˆ‡ã‚Šç·š */}
        <div className="divider">ã¾ãŸã¯</div>

        {/* ä¸Šç´šè€…å‘ã‘ */}
        <button
          className="advanced-toggle"
          onClick={() => setShowAdvanced(!showAdvanced)}
        >
          {showAdvanced ? "â–²" : "â–¼"} å¤–éƒ¨ã‚¦ã‚©ãƒ¬ãƒƒãƒˆã§æ¥ç¶šï¼ˆä¸Šç´šè€…å‘ã‘ï¼‰
        </button>

        {showAdvanced && (
          <div className="advanced-section">
            <p className="note">
              ğŸ’¡ å¤–éƒ¨ã‚¦ã‚©ãƒ¬ãƒƒãƒˆã«ç›´æ¥æ¥ç¶šã—ã¾ã™ã€‚
              ã‚¬ã‚¹ä»£ã¯è‡ªå·±è² æ‹…ã¨ãªã‚Šã¾ã™ã€‚
            </p>
            {/* ã“ã“ã«å¤–éƒ¨ã‚¦ã‚©ãƒ¬ãƒƒãƒˆä¸€è¦§ */}
          </div>
        )}
      </div>
    </div>
  );
}
```

---

## ğŸ“¦ Phase 2: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«å®Ÿè£…

### 2.1 ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã®è¿½åŠ 

**src/App.tsx** (ãƒ«ãƒ¼ãƒˆè¿½åŠ ):
```typescript
import { UserProfile } from "./pages/UserProfile";
import { MyProfile } from "./pages/MyProfile";
import { Leaderboard } from "./pages/Leaderboard";

<Routes>
  {/* æ—¢å­˜ã®ãƒ«ãƒ¼ãƒˆ */}
  <Route path="/tip/:address" element={<TipUI />} />
  <Route path="/reward/:address" element={<RewardUI />} />
  <Route path="/vending/:hubId" element={<VendingUI />} />
  <Route path="/admin" element={<AdminDashboard />} />

  {/* æ–°è¦: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ« */}
  <Route path="/user/:address" element={<UserProfile />} />
  <Route path="/me" element={<MyProfile />} />
  <Route path="/leaderboard" element={<Leaderboard />} />
</Routes>
```

### 2.2 ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®è¨­è¨ˆ

**src/types/user.ts** (æ–°è¦ä½œæˆ):
```typescript
export interface UserProfile {
  address: string;
  ensName?: string;

  // ãƒ©ãƒ³ã‚¯ãƒ»è²¢çŒ®åº¦
  rank: {
    current: string;        // 'Bronze', 'Silver', 'Gold', 'Platinum', 'Diamond'
    points: number;         // è²¢çŒ®åº¦ãƒã‚¤ãƒ³ãƒˆ
    nextRank?: string;      // æ¬¡ã®ãƒ©ãƒ³ã‚¯
    pointsToNext?: number;  // æ¬¡ã®ãƒ©ãƒ³ã‚¯ã¾ã§
  };

  // SBTçµ±è¨ˆ
  sbt: {
    totalCount: number;     // ç·SBTæ•°
    tokenIds: bigint[];     // ä¿æœ‰ãƒˆãƒ¼ã‚¯ãƒ³ID
  };

  // æ´»å‹•çµ±è¨ˆ
  stats: {
    totalTips: string;          // ç·æŠ•ã’éŠ­é¡ï¼ˆweiï¼‰
    totalPurchases: number;     // è³¼å…¥å›æ•°
    rewardsReceived: number;    // Rewardç²å¾—æ•°
    firstActivity: Date;        // åˆå›æ´»å‹•æ—¥
    lastActivity: Date;         // æœ€çµ‚æ´»å‹•æ—¥
  };
}

export interface Activity {
  id: string;
  type: 'tip' | 'purchase' | 'reward' | 'rank_up';
  timestamp: Date;
  details: {
    amount?: string;      // é‡‘é¡ï¼ˆweiï¼‰
    tokenId?: string;     // ãƒˆãƒ¼ã‚¯ãƒ³ID
    to?: string;          // é€ä¿¡å…ˆã‚¢ãƒ‰ãƒ¬ã‚¹
    from?: string;        // é€ä¿¡å…ƒã‚¢ãƒ‰ãƒ¬ã‚¹
    description: string;  // èª¬æ˜æ–‡
  };
}
```

### 2.3 ãƒ‡ãƒ¼ã‚¿å–å¾—ãƒ•ãƒƒã‚¯

**src/hooks/useUserProfile.ts** (æ–°è¦ä½œæˆ):
```typescript
import { useContract, useContractRead, useAddress } from "@thirdweb-dev/react";
import { CONTRACT_ADDRESS, CONTRACT_ABI } from "../contract";
import { useQuery } from "@tanstack/react-query";
import type { UserProfile } from "../types/user";

export function useUserProfile(targetAddress?: string) {
  const connectedAddress = useAddress();
  const address = targetAddress || connectedAddress;

  const { contract } = useContract(CONTRACT_ADDRESS, CONTRACT_ABI);

  // ãƒ©ãƒ³ã‚¯å–å¾—
  const { data: rankData } = useContractRead(
    contract,
    "getUserRank",
    [address]
  );

  // è²¢çŒ®åº¦å–å¾—
  const { data: contribution } = useContractRead(
    contract,
    "getTotalContribution",
    [address]
  );

  // SBTä¸€è¦§å–å¾—
  const { data: sbtTokens } = useContractRead(
    contract,
    "tokensOfOwner",
    [address]
  );

  // Supabaseã‹ã‚‰è³¼å…¥å±¥æ­´ç­‰ã‚’å–å¾—
  const { data: activities } = useQuery(
    ["activities", address],
    () => fetchUserActivities(address),
    { enabled: !!address }
  );

  // ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‡ãƒ¼ã‚¿ã®çµ±åˆ
  const profile: UserProfile = {
    address: address || "",
    rank: {
      current: rankData?.name || "Bronze",
      points: Number(contribution || 0),
    },
    sbt: {
      totalCount: sbtTokens?.length || 0,
      tokenIds: sbtTokens || [],
    },
    stats: {
      totalTips: "0", // activitiesã‹ã‚‰è¨ˆç®—
      totalPurchases: 0, // activitiesã‹ã‚‰è¨ˆç®—
      rewardsReceived: 0, // activitiesã‹ã‚‰è¨ˆç®—
      firstActivity: new Date(),
      lastActivity: new Date(),
    },
  };

  return {
    profile,
    activities,
    isLoading: !rankData && !contribution,
  };
}
```

### 2.4 ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒšãƒ¼ã‚¸

**src/pages/UserProfile.tsx** (æ–°è¦ä½œæˆ):
```typescript
import { useParams } from "react-router-dom";
import { useUserProfile } from "../hooks/useUserProfile";
import { UserHeader } from "../components/profile/UserHeader";
import { StatsCards } from "../components/profile/StatsCards";
import { SBTGallery } from "../components/profile/SBTGallery";
import { ActivityFeed } from "../components/profile/ActivityFeed";
import { ShareProfile } from "../components/profile/ShareProfile";

export function UserProfile() {
  const { address } = useParams<{ address: string }>();
  const { profile, activities, isLoading } = useUserProfile(address);

  if (isLoading) {
    return <div className="loading">èª­ã¿è¾¼ã¿ä¸­...</div>;
  }

  return (
    <div className="user-profile-page">
      {/* ãƒ˜ãƒƒãƒ€ãƒ¼: ã‚¢ãƒ‰ãƒ¬ã‚¹ã€ãƒ©ãƒ³ã‚¯ã€è²¢çŒ®åº¦ */}
      <UserHeader profile={profile} />

      {/* çµ±è¨ˆã‚«ãƒ¼ãƒ‰ */}
      <StatsCards stats={profile.stats} />

      {/* SBTã‚®ãƒ£ãƒ©ãƒªãƒ¼ */}
      <SBTGallery tokens={profile.sbt.tokenIds} />

      {/* ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ãƒ•ã‚£ãƒ¼ãƒ‰ */}
      <ActivityFeed activities={activities} />

      {/* ã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ */}
      <ShareProfile profile={profile} />
    </div>
  );
}
```

### 2.5 ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…

#### UserHeader ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**src/components/profile/UserHeader.tsx**:
```typescript
import { UserProfile } from "../../types/user";
import { getRankBadge, getRankColor } from "../../utils/ranks";

export function UserHeader({ profile }: { profile: UserProfile }) {
  return (
    <div className="user-header">
      {/* ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç”»åƒï¼ˆENS Avatar or Jazziconï¼‰ */}
      <div className="avatar">
        {/* TODO: ENS Avataré€£æº */}
      </div>

      {/* ã‚¢ãƒ‰ãƒ¬ã‚¹è¡¨ç¤º */}
      <div className="address-section">
        <h1>{profile.ensName || `${profile.address.slice(0, 6)}...${profile.address.slice(-4)}`}</h1>
        <p className="address-full">{profile.address}</p>
      </div>

      {/* ãƒ©ãƒ³ã‚¯ãƒãƒƒã‚¸ */}
      <div
        className="rank-badge"
        style={{
          background: getRankColor(profile.rank.current),
        }}
      >
        {getRankBadge(profile.rank.current)} {profile.rank.current}
      </div>

      {/* è²¢çŒ®åº¦ */}
      <div className="contribution">
        <p className="label">è²¢çŒ®åº¦</p>
        <p className="value">{profile.rank.points.toLocaleString()} pt</p>

        {profile.rank.nextRank && (
          <p className="next-rank">
            æ¬¡ã®ãƒ©ãƒ³ã‚¯ï¼ˆ{profile.rank.nextRank}ï¼‰ã¾ã§: {profile.rank.pointsToNext} pt
          </p>
        )}
      </div>
    </div>
  );
}
```

#### StatsCards ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

**src/components/profile/StatsCards.tsx**:
```typescript
import { formatTokenAmount } from "../../config/tokens";

export function StatsCards({ stats }: { stats: UserProfile['stats'] }) {
  return (
    <div className="stats-cards">
      <div className="stat-card">
        <div className="icon">ğŸ’¸</div>
        <div className="value">{formatTokenAmount(stats.totalTips, 'JPYC')}</div>
        <div className="label">ç·æŠ•ã’éŠ­é¡</div>
      </div>

      <div className="stat-card">
        <div className="icon">ğŸ›’</div>
        <div className="value">{stats.totalPurchases}</div>
        <div className="label">è³¼å…¥å›æ•°</div>
      </div>

      <div className="stat-card">
        <div className="icon">ğŸ</div>
        <div className="value">{stats.rewardsReceived}</div>
        <div className="label">Rewardç²å¾—</div>
      </div>

      <div className="stat-card">
        <div className="icon">ğŸ“…</div>
        <div className="value">
          {Math.floor((Date.now() - stats.firstActivity.getTime()) / (1000 * 60 * 60 * 24))}æ—¥
        </div>
        <div className="label">ã‚¢ã‚¯ãƒ†ã‚£ãƒ–æ—¥æ•°</div>
      </div>
    </div>
  );
}
```

### 2.6 SNSã‚·ã‚§ã‚¢æ©Ÿèƒ½

**src/components/profile/ShareProfile.tsx**:
```typescript
import { UserProfile } from "../../types/user";

export function ShareProfile({ profile }: { profile: UserProfile }) {
  const shareToTwitter = () => {
    const url = `${window.location.origin}/user/${profile.address}`;
    const text = `ğŸ‰ Gifterra ã§ ${profile.rank.current} ãƒ©ãƒ³ã‚¯é”æˆï¼

ğŸ’¸ ç·æŠ•ã’éŠ­: ${formatTokenAmount(profile.stats.totalTips, 'JPYC')}
ğŸ† è²¢çŒ®åº¦: ${profile.rank.points.toLocaleString()} pt
ğŸ“Š SBT: ${profile.sbt.totalCount}å€‹

ã‚ãªãŸã‚‚å‚åŠ ã—ã‚ˆã†ï¼
${url}

#Gifterra #JPYC #Web3`;

    const twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}`;
    window.open(twitterUrl, '_blank');
  };

  return (
    <div className="share-section">
      <h3>ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚’ã‚·ã‚§ã‚¢</h3>
      <button onClick={shareToTwitter} className="share-button twitter">
        ğŸ¦ Twitterã§ã‚·ã‚§ã‚¢
      </button>
    </div>
  );
}
```

---

## ğŸ“¦ Phase 3: çµ±åˆã¨ãƒ†ã‚¹ãƒˆ

### 3.1 æ—¢å­˜ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¸ã®çµ±åˆ

**å„UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒªãƒ³ã‚¯ã‚’è¿½åŠ **:

```typescript
// src/tip-ui/App.tsx
import { Link } from "react-router-dom";

// ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³æˆåŠŸå¾Œ
<div className="success-message">
  <p>æŠ•ã’éŠ­ãŒå®Œäº†ã—ã¾ã—ãŸï¼</p>
  <Link to={`/user/${address}`}>
    ã‚ãªãŸã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚’è¦‹ã‚‹ â†’
  </Link>
</div>
```

### 3.2 ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã®æ›´æ–°

**src/components/Navigation.tsx** (æ–°è¦ã¾ãŸã¯æ—¢å­˜):
```typescript
export function Navigation() {
  const address = useAddress();

  return (
    <nav>
      <Link to="/">ãƒ›ãƒ¼ãƒ </Link>
      <Link to="/vending">GIFT HUB</Link>
      {address && (
        <>
          <Link to="/me">ãƒã‚¤ãƒšãƒ¼ã‚¸</Link>
          <Link to="/leaderboard">ãƒ©ãƒ³ã‚­ãƒ³ã‚°</Link>
        </>
      )}
      <ConnectWallet />
    </nav>
  );
}
```

---

## ğŸ§ª ãƒ†ã‚¹ãƒˆè¨ˆç”»

### ãƒ•ã‚§ãƒ¼ã‚º1: ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆ

```bash
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
pnpm dev

# ãƒ†ã‚¹ãƒˆé …ç›®
âœ… ãƒ¡ãƒ¼ãƒ«ãƒ­ã‚°ã‚¤ãƒ³ã§ã‚¹ãƒãƒ¼ãƒˆã‚¦ã‚©ãƒ¬ãƒƒãƒˆä½œæˆ
âœ… MetaMaskã§ã‚¹ãƒãƒ¼ãƒˆã‚¦ã‚©ãƒ¬ãƒƒãƒˆçµŒç”±æ¥ç¶š
âœ… å¤–éƒ¨ã‚¦ã‚©ãƒ¬ãƒƒãƒˆç›´æ¥æ¥ç¶š
âœ… ã‚¬ã‚¹ã‚¹ãƒãƒ³ã‚µãƒ¼ã‚·ãƒƒãƒ—å‹•ä½œç¢ºèª
âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«è¡¨ç¤º
âœ… ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£å±¥æ­´è¡¨ç¤º
âœ… SNSã‚·ã‚§ã‚¢æ©Ÿèƒ½
```

### ãƒ•ã‚§ãƒ¼ã‚º2: ãƒ†ã‚¹ãƒˆãƒãƒƒãƒˆãƒ‡ãƒ—ãƒ­ã‚¤

```bash
# ãƒ“ãƒ«ãƒ‰
pnpm build

# Vercelã«ãƒ‡ãƒ—ãƒ­ã‚¤
vercel --prod

# ãƒ†ã‚¹ãƒˆé …ç›®
âœ… Polygon Amoyã§ã®å‹•ä½œç¢ºèª
âœ… è¤‡æ•°ã‚¦ã‚©ãƒ¬ãƒƒãƒˆã§ã®æ¥ç¶šãƒ†ã‚¹ãƒˆ
âœ… ã‚¬ã‚¹ä»£è¨ˆæ¸¬
âœ… ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒšãƒ¼ã‚¸ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
âœ… ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œç¢ºèª
```

### ãƒ•ã‚§ãƒ¼ã‚º3: Î²ç‰ˆãƒ†ã‚¹ãƒˆ

```
å¯¾è±¡: 5-10äººã®å”åŠ›è€…
æœŸé–“: 1é€±é–“

ãƒ†ã‚¹ãƒˆå†…å®¹:
- æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“
- æ—¢å­˜ã‚¦ã‚©ãƒ¬ãƒƒãƒˆã‹ã‚‰ã®ç§»è¡Œ
- ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«å…±æœ‰
- ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯åé›†
```

---

## ğŸ“Š å®Ÿè£…ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

### Week 1: ãƒã‚¤ãƒ–ãƒªãƒƒãƒ‰ã‚¦ã‚©ãƒ¬ãƒƒãƒˆ

| Day | ã‚¿ã‚¹ã‚¯ | æ‹…å½“ | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ |
|-----|-------|------|-----------|
| 1-2 | ä¾å­˜é–¢ä¿‚ç¢ºèªãƒ»ç’°å¢ƒå¤‰æ•°è¨­å®š | Dev | â¬œ |
| 3-4 | ã‚¦ã‚©ãƒ¬ãƒƒãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ | Dev | â¬œ |
| 5-6 | ã‚«ã‚¹ã‚¿ãƒ UIå®Ÿè£… | Dev | â¬œ |
| 7 | ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆ | Dev | â¬œ |

### Week 2: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«

| Day | ã‚¿ã‚¹ã‚¯ | æ‹…å½“ | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ |
|-----|-------|------|-----------|
| 1-2 | ãƒ‡ãƒ¼ã‚¿æ§‹é€ è¨­è¨ˆãƒ»ãƒ•ãƒƒã‚¯å®Ÿè£… | Dev | â¬œ |
| 3-4 | ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒšãƒ¼ã‚¸UI | Dev | â¬œ |
| 5-6 | ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£… | Dev | â¬œ |
| 7 | çµ±åˆãƒ»ãƒ†ã‚¹ãƒˆ | Dev | â¬œ |

### Week 3: çµ±åˆãƒ†ã‚¹ãƒˆãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤

| Day | ã‚¿ã‚¹ã‚¯ | æ‹…å½“ | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ |
|-----|-------|------|-----------|
| 1-2 | ãƒ†ã‚¹ãƒˆãƒãƒƒãƒˆãƒ‡ãƒ—ãƒ­ã‚¤ | Dev | â¬œ |
| 3-4 | Î²ç‰ˆãƒ†ã‚¹ãƒˆ | All | â¬œ |
| 5-6 | ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯åæ˜  | Dev | â¬œ |
| 7 | æœ€çµ‚ç¢ºèª | All | â¬œ |

---

## ğŸ’° ã‚³ã‚¹ãƒˆè©¦ç®—

### é–‹ç™ºã‚³ã‚¹ãƒˆ

- å®Ÿè£…æ™‚é–“: 2-3é€±é–“
- äººä»¶è²»: ï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚ˆã‚‹ï¼‰

### é‹ç”¨ã‚³ã‚¹ãƒˆï¼ˆæœˆé–“1000 MAUæƒ³å®šï¼‰

| é …ç›® | ã‚³ã‚¹ãƒˆ |
|------|--------|
| thirdweb Embedded Wallet | $0-99/æœˆï¼ˆç„¡æ–™æ å†…ï¼‰ |
| ã‚¬ã‚¹ã‚¹ãƒãƒ³ã‚µãƒ¼ã‚·ãƒƒãƒ— | $30-60/æœˆ |
| Supabaseï¼ˆãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‡ãƒ¼ã‚¿ï¼‰ | $0-25/æœˆ |
| **åˆè¨ˆ** | **$30-184/æœˆ** |

### ROIï¼ˆæŠ•è³‡å¯¾åŠ¹æœï¼‰

```
ã‚³ã‚¹ãƒˆ: ~$100/æœˆ
åŠ¹æœ:
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ç²å¾—ç‡: 8å€
- ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆ: 5å€
- SNSãƒã‚¤ãƒ©ãƒ«: ç„¡é™å¤§

â†’ åœ§å€’çš„ã«ãƒ—ãƒ©ã‚¹
```

---

## ğŸš¨ ãƒªã‚¹ã‚¯ã¨å¯¾ç­–

### ãƒªã‚¹ã‚¯1: thirdwebä¾å­˜

**ãƒªã‚¹ã‚¯**: thirdwebã«ã‚µãƒ¼ãƒ“ã‚¹ãŒä¾å­˜
**å¯¾ç­–**:
- å¤–éƒ¨ã‚¦ã‚©ãƒ¬ãƒƒãƒˆæ¥ç¶šã¯å¸¸ã«ç¶­æŒ
- ãƒ‡ãƒ¼ã‚¿ã¯è‡ªå‰ã®Supabaseã«ã‚‚ä¿å­˜
- ç§˜å¯†éµã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½ã‚’æä¾›

### ãƒªã‚¹ã‚¯2: ã‚¬ã‚¹ã‚³ã‚¹ãƒˆ

**ãƒªã‚¹ã‚¯**: ã‚¹ãƒãƒ³ã‚µãƒ¼ã‚·ãƒƒãƒ—ã®ã‚³ã‚¹ãƒˆãŒäºˆæƒ³ä»¥ä¸Š
**å¯¾ç­–**:
- ä¸Šé™è¨­å®š
- ã‚¹ãƒãƒ³ã‚µãƒ¼ã‚·ãƒƒãƒ—ãƒ«ãƒ¼ãƒ«ã®å‹•çš„èª¿æ•´
- ä½¿ç”¨çŠ¶æ³ã®ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°

### ãƒªã‚¹ã‚¯3: UXè¤‡é›‘åŒ–

**ãƒªã‚¹ã‚¯**: é¸æŠè‚¢ãŒå¤šã™ãã¦æ··ä¹±
**å¯¾ç­–**:
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚’æ˜ç¢ºã«
- åˆå¿ƒè€…å‘ã‘ã‚’å‰é¢ã«
- ä¸Šç´šè€…å‘ã‘ã¯æŠ˜ã‚ŠãŸãŸã¿

---

## ğŸ“š å‚è€ƒè³‡æ–™

### thirdwebå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- Smart Wallet: https://portal.thirdweb.com/wallets/smart-wallet
- Embedded Wallet: https://portal.thirdweb.com/wallets/embedded-wallet
- Gasless Transactions: https://portal.thirdweb.com/glossary/gasless-transactions

### Gifterraå†…éƒ¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [JPYC Integration Guide](./JPYC-INTEGRATION-GUIDE.md)
- [Token Configuration](../src/config/tokens.ts)
- [Contract ABI](../src/contract.ts)

---

## ğŸ¯ æˆåŠŸæŒ‡æ¨™

### æŠ€è¡“æŒ‡æ¨™

- [ ] ãƒ¡ãƒ¼ãƒ«ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸç‡: 95%ä»¥ä¸Š
- [ ] ã‚¬ã‚¹ã‚¹ãƒãƒ³ã‚µãƒ¼ã‚·ãƒƒãƒ—æˆåŠŸç‡: 99%ä»¥ä¸Š
- [ ] ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚é–“: 2ç§’ä»¥å†…
- [ ] ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ: å®Œå…¨å¯¾å¿œ

### ãƒ“ã‚¸ãƒã‚¹æŒ‡æ¨™

- [ ] æ–°è¦ç™»éŒ²å®Œäº†ç‡: 70%ä»¥ä¸Š
- [ ] ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ãƒšãƒ¼ã‚¸è¨ªå•ç‡: 50%ä»¥ä¸Š
- [ ] SNSã‚·ã‚§ã‚¢ç‡: 20%ä»¥ä¸Š
- [ ] 7æ—¥é–“ãƒªãƒ†ãƒ³ã‚·ãƒ§ãƒ³ç‡: 40%ä»¥ä¸Š

---

## ğŸš€ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. **å³åº§ã«é–‹å§‹**: ä¾å­˜é–¢ä¿‚ã®ç¢ºèªã¨ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
2. **ä¸¦è¡Œä½œæ¥­**: ã‚¦ã‚©ãƒ¬ãƒƒãƒˆå®Ÿè£…ã¨ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«å®Ÿè£…ã‚’åˆ†é›¢
3. **æ—©æœŸãƒ†ã‚¹ãƒˆ**: 1é€±é–“ã”ã¨ã«ãƒ†ã‚¹ãƒˆãƒãƒƒãƒˆãƒ‡ãƒ—ãƒ­ã‚¤
4. **Î²ãƒ†ã‚¹ãƒˆ**: å®Ÿéš›ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
5. **æœ¬ç•ªãƒªãƒªãƒ¼ã‚¹**: JPYCç™ºè¡Œæ—¥ã«åˆã‚ã›ã¦

---

**ğŸ‰ æº–å‚™å®Œäº†ï¼å®Ÿè£…ã‚’é–‹å§‹ã—ã¾ã—ã‚‡ã†ï¼**
