async function h(t){return console.warn("OpenAI API key not properly configured, using mock analysis"),u(t)}function u(t){if(!t||t.trim()==="")return{score:50,label:"neutral",keywords:[]};const l=["最高","感動","ありがとう","素晴らしい","良い","好き","応援","頑張","嬉しい","楽しい","すごい","感謝","助かる","愛","幸せ","おめでとう","成功","完璧","amazing","great","awesome","love","happy","thanks","excellent","wonderful","fantastic","perfect","👍","❤️","🎉","😊"],c=["悲しい","残念","悪い","嫌","つまらない","最悪","ひどい","ダメ","失敗","困る","問題","不満","心配","bad","terrible","awful","hate","sad","angry","problem","😢","😞","😠","💔"],f=["普通","まあまあ","そこそこ","ok","okay","fine","normal","🤔","😐"],i=t.toLowerCase();let e=50;const o=[];l.forEach(n=>{i.includes(n.toLowerCase())&&(e+=15,o.length<3&&o.push(n))}),c.forEach(n=>{i.includes(n.toLowerCase())&&(e-=15,o.length<3&&o.push(n))}),f.forEach(n=>{i.includes(n.toLowerCase())&&(e=50,o.length<3&&o.push(n))});const r=(t.match(/[！!]/g)||[]).length,s=(t.match(/[？?]/g)||[]).length;r>0&&(e+=r*5),s>1&&(e-=s*2),e=Math.max(0,Math.min(100,e));let a;return e>=65?a="positive":e<=35?a="negative":a="neutral",{score:e,label:a,keywords:o}}export{h as analyzeSentiment};
