// components/GifterraSystemDashboard.tsx
import React, { useState } from "react";
import { useGifterraSystem } from "../hooks/useGifterraSystem";

/**
 * @title GifterraSystemDashboard
 * @notice ã‚®ãƒ•ãƒ†ãƒ©ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
 * 
 * ã€ç‰¹è¨±å›é¿UIè¨­è¨ˆã€‘
 * ==================
 * ã“ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ç‰¹è¨±å¯¾è±¡æ©Ÿèƒ½ã¨éå¯¾è±¡æ©Ÿèƒ½ã‚’æ˜ç¢ºã«åˆ†é›¢è¡¨ç¤ºã—ã¾ã™ï¼š
 * 
 * ğŸ”´ ç‰¹è¨±å¯¾è±¡æ©Ÿèƒ½ï¼ˆGifterraCoreï¼‰:
 * - SBTãƒŸãƒ³ãƒˆ
 * - å ±é…¬é…å¸ƒã‚·ã‚¹ãƒ†ãƒ 
 * - ãƒ©ãƒ³ãƒ€ãƒ æŠ½é¸
 * - çŠ¶æ…‹ãƒ•ãƒ©ã‚°ç®¡ç†
 * 
 * âœ… ç‰¹è¨±å›é¿æ©Ÿèƒ½ï¼ˆStandardNFTï¼‰:
 * - é€šå¸¸NFTæ‰‹å‹•ãƒŸãƒ³ãƒˆ
 * - ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ç®¡ç†
 * - ãƒãƒ¼ã‚±ãƒƒãƒˆé€£æº
 * - ãƒ­ã‚¤ãƒ¤ãƒªãƒ†ã‚£è¨­å®š
 */

interface GifterraSystemDashboardProps {
  systemId: number;
}

export const GifterraSystemDashboard: React.FC<GifterraSystemDashboardProps> = ({
  systemId
}) => {
  const {
    systemInfo,
    stats,
    mintSBT,
    distributeReward,
    mintStandardNFT,
    publicMintStandardNFT,
    getTokenInfo,
    isLoading,
    error,
    isSystemReady,
    isUserOwner
  } = useGifterraSystem(systemId);

  const [activeTab, setActiveTab] = useState<"overview" | "sbt" | "standard">("overview");
  const [mintAddress, setMintAddress] = useState("");
  const [tokenURI, setTokenURI] = useState("");
  const [rank, setRank] = useState(1);
  const [rewardTokenId, setRewardTokenId] = useState("");
  const [tokenInfoId, setTokenInfoId] = useState("");
  const [tokenInfo, setTokenInfo] = useState<any>(null);

  // SBTãƒŸãƒ³ãƒˆå‡¦ç†
  const handleMintSBT = async () => {
    if (!mintAddress || rank < 1 || rank > 10) {
      alert("æœ‰åŠ¹ãªã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ãƒ©ãƒ³ã‚¯ï¼ˆ1-10ï¼‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");
      return;
    }

    try {
      await mintSBT(mintAddress, rank);
      alert("âœ… SBTãƒŸãƒ³ãƒˆãŒå®Œäº†ã—ã¾ã—ãŸï¼");
      setMintAddress("");
      setRank(1);
    } catch (error: any) {
      alert(`âŒ SBTãƒŸãƒ³ãƒˆã«å¤±æ•—ã—ã¾ã—ãŸ: ${error.message}`);
    }
  };

  // å ±é…¬é…å¸ƒå‡¦ç†
  const handleDistributeReward = async () => {
    if (!mintAddress || !rewardTokenId) {
      alert("ã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ãƒˆãƒ¼ã‚¯ãƒ³IDã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");
      return;
    }

    try {
      await distributeReward(mintAddress, parseInt(rewardTokenId));
      alert("âœ… å ±é…¬é…å¸ƒãŒå®Œäº†ã—ã¾ã—ãŸï¼");
      setRewardTokenId("");
    } catch (error: any) {
      alert(`âŒ å ±é…¬é…å¸ƒã«å¤±æ•—ã—ã¾ã—ãŸ: ${error.message}`);
    }
  };

  // é€šå¸¸NFTãƒŸãƒ³ãƒˆå‡¦ç†
  const handleMintStandardNFT = async () => {
    if (!mintAddress || !tokenURI) {
      alert("ã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ãƒˆãƒ¼ã‚¯ãƒ³URIã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");
      return;
    }

    try {
      await mintStandardNFT(mintAddress, tokenURI);
      alert("âœ… é€šå¸¸NFTãƒŸãƒ³ãƒˆãŒå®Œäº†ã—ã¾ã—ãŸï¼");
      setTokenURI("");
    } catch (error: any) {
      alert(`âŒ é€šå¸¸NFTãƒŸãƒ³ãƒˆã«å¤±æ•—ã—ã¾ã—ãŸ: ${error.message}`);
    }
  };

  // ãƒˆãƒ¼ã‚¯ãƒ³æƒ…å ±å–å¾—
  const handleGetTokenInfo = async () => {
    if (!tokenInfoId) {
      alert("ãƒˆãƒ¼ã‚¯ãƒ³IDã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");
      return;
    }

    try {
      const info = await getTokenInfo(parseInt(tokenInfoId));
      setTokenInfo(info);
    } catch (error: any) {
      alert(`âŒ ãƒˆãƒ¼ã‚¯ãƒ³æƒ…å ±å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ: ${error.message}`);
    }
  };

  if (!isSystemReady) {
    return (
      <div className="loading-container">
        <h3>ã‚·ã‚¹ãƒ†ãƒ èª­ã¿è¾¼ã¿ä¸­...</h3>
        <p>ã‚·ã‚¹ãƒ†ãƒ ID: {systemId}</p>
        {error && <p className="error">ã‚¨ãƒ©ãƒ¼: {error}</p>}
      </div>
    );
  }

  return (
    <div className="gifterra-dashboard">
      {/* ãƒ˜ãƒƒãƒ€ãƒ¼ */}
      <div className="dashboard-header">
        <h2>ğŸ {systemInfo?.systemName} ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</h2>
        <div className="system-info">
          <p><strong>ã‚·ã‚¹ãƒ†ãƒ ID:</strong> {systemId}</p>
          <p><strong>ã‚ªãƒ¼ãƒŠãƒ¼:</strong> {isUserOwner ? "ã‚ãªãŸ" : systemInfo?.owner}</p>
          <p><strong>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:</strong> {systemInfo?.isActive ? "ğŸŸ¢ ã‚¢ã‚¯ãƒ†ã‚£ãƒ–" : "ğŸ”´ éã‚¢ã‚¯ãƒ†ã‚£ãƒ–"}</p>
        </div>
      </div>

      {/* ã‚¿ãƒ–ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ */}
      <div className="tab-navigation">
        <button 
          className={activeTab === "overview" ? "active" : ""}
          onClick={() => setActiveTab("overview")}
        >
          ğŸ“Š æ¦‚è¦
        </button>
        <button 
          className={activeTab === "sbt" ? "active" : ""}
          onClick={() => setActiveTab("sbt")}
        >
          ğŸ”´ SBTç®¡ç†ï¼ˆç‰¹è¨±å¯¾è±¡ï¼‰
        </button>
        <button 
          className={activeTab === "standard" ? "active" : ""}
          onClick={() => setActiveTab("standard")}
        >
          âœ… é€šå¸¸NFTï¼ˆç‰¹è¨±å›é¿ï¼‰
        </button>
      </div>

      {/* ã‚¨ãƒ©ãƒ¼è¡¨ç¤º */}
      {error && (
        <div className="error-message">
          âŒ ã‚¨ãƒ©ãƒ¼: {error}
        </div>
      )}

      {/* ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º */}
      {isLoading && (
        <div className="loading-overlay">
          å‡¦ç†ä¸­...
        </div>
      )}

      {/* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¨ãƒªã‚¢ */}
      <div className="dashboard-content">
        {activeTab === "overview" && (
          <div className="overview-tab">
            <h3>ğŸ“Š ã‚·ã‚¹ãƒ†ãƒ çµ±è¨ˆ</h3>
            {stats ? (
              <div className="stats-grid">
                <div className="stat-card sbt-stats">
                  <h4>ğŸ”´ SBTã‚·ã‚¹ãƒ†ãƒ ï¼ˆç‰¹è¨±å¯¾è±¡ï¼‰</h4>
                  <p><strong>ç·SBTç™ºè¡Œæ•°:</strong> {stats.core.totalMinted}</p>
                  <p><strong>ç·å ±é…¬é…å¸ƒæ•°:</strong> {stats.core.totalRewards}</p>
                  <p><strong>å ±é…¬ãƒˆãƒ¼ã‚¯ãƒ³:</strong> {stats.core.currentRewardToken || "æœªè¨­å®š"}</p>
                  <p><strong>åŸºæœ¬å ±é…¬é‡:</strong> {stats.core.currentBaseReward} ETH</p>
                </div>
                
                <div className="stat-card nft-stats">
                  <h4>âœ… é€šå¸¸NFTï¼ˆç‰¹è¨±å›é¿ï¼‰</h4>
                  <p><strong>ç·ç™ºè¡Œæ•°:</strong> {stats.nft.totalSupply}</p>
                  <p><strong>æœ€å¤§ä¾›çµ¦é‡:</strong> {stats.nft.currentMaxSupply || "ç„¡åˆ¶é™"}</p>
                  <p><strong>ãƒŸãƒ³ãƒˆä¾¡æ ¼:</strong> {stats.nft.currentMintPrice} ETH</p>
                  <p><strong>ç·å£²ä¸Š:</strong> {stats.nft.revenue} ETH</p>
                  <p><strong>ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒŸãƒ³ãƒˆ:</strong> {stats.nft.isPublicMintEnabled ? "æœ‰åŠ¹" : "ç„¡åŠ¹"}</p>
                  <p><strong>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:</strong> {stats.nft.isPaused ? "ä¸€æ™‚åœæ­¢" : "ç¨¼åƒä¸­"}</p>
                </div>
              </div>
            ) : (
              <p>çµ±è¨ˆæƒ…å ±ã‚’èª­ã¿è¾¼ã¿ä¸­...</p>
            )}

            <div className="contract-addresses">
              <h4>ğŸ“‹ ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆã‚¢ãƒ‰ãƒ¬ã‚¹</h4>
              <p><strong>GifterraCore:</strong> <code>{systemInfo?.gifterraCore}</code></p>
              <p><strong>StandardNFT:</strong> <code>{systemInfo?.standardNFT}</code></p>
            </div>
          </div>
        )}

        {activeTab === "sbt" && (
          <div className="sbt-tab">
            <div className="patent-warning">
              <h3>ğŸ”´ ç‰¹è¨±å¯¾è±¡æ©Ÿèƒ½ - SBTç®¡ç†</h3>
              <div className="warning-box">
                <p>âš ï¸ <strong>ç‰¹è¨±å¯¾è±¡æ©Ÿèƒ½ã§ã™</strong></p>
                <p>ä»¥ä¸‹ã®æ©Ÿèƒ½ã¯ç‰¹è¨±è«‹æ±‚é …1ã€œ3ã«è©²å½“ã—ã¾ã™ï¼š</p>
                <ul>
                  <li>NFTå±æ€§ã«åŸºã¥ãå ±é…¬ã®è‡ªå‹•é…å¸ƒï¼ˆè«‹æ±‚é …1ï¼‰</li>
                  <li>çŠ¶æ…‹ãƒ•ãƒ©ã‚°ã®ä»˜ä¸ãƒ»å¤‰æ›´ï¼ˆè«‹æ±‚é …1ï¼‰</li>
                  <li>ãƒ©ãƒ³ãƒ€ãƒ æŠ½é¸ã«ã‚ˆã‚‹å ±é…¬é¸å®šï¼ˆè«‹æ±‚é …2ï¼‰</li>
                  <li>NFT/GLB/ãƒˆãƒ¼ã‚¯ãƒ³ã®è‡ªå‹•é…å¸ƒï¼ˆè«‹æ±‚é …3ï¼‰</li>
                </ul>
              </div>
            </div>

            {isUserOwner ? (
              <div className="admin-functions">
                {/* SBTãƒŸãƒ³ãƒˆ */}
                <div className="function-group">
                  <h4>ğŸ¯ SBTãƒŸãƒ³ãƒˆ</h4>
                  <div className="form-group">
                    <input
                      type="text"
                      placeholder="ãƒŸãƒ³ãƒˆå…ˆã‚¢ãƒ‰ãƒ¬ã‚¹"
                      value={mintAddress}
                      onChange={(e) => setMintAddress(e.target.value)}
                    />
                    <select 
                      value={rank} 
                      onChange={(e) => setRank(parseInt(e.target.value))}
                    >
                      {[...Array(10)].map((_, i) => (
                        <option key={i + 1} value={i + 1}>ãƒ©ãƒ³ã‚¯ {i + 1}</option>
                      ))}
                    </select>
                    <button onClick={handleMintSBT} disabled={isLoading}>
                      SBTã‚’ãƒŸãƒ³ãƒˆ
                    </button>
                  </div>
                </div>

                {/* å ±é…¬é…å¸ƒ */}
                <div className="function-group">
                  <h4>ğŸ å ±é…¬é…å¸ƒï¼ˆè‡ªå‹•æŠ½é¸ï¼‰</h4>
                  <div className="form-group">
                    <input
                      type="text"
                      placeholder="ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ãƒ‰ãƒ¬ã‚¹"
                      value={mintAddress}
                      onChange={(e) => setMintAddress(e.target.value)}
                    />
                    <input
                      type="text"
                      placeholder="å¯¾è±¡ãƒˆãƒ¼ã‚¯ãƒ³ID"
                      value={rewardTokenId}
                      onChange={(e) => setRewardTokenId(e.target.value)}
                    />
                    <button onClick={handleDistributeReward} disabled={isLoading}>
                      å ±é…¬ã‚’é…å¸ƒ
                    </button>
                  </div>
                  <p className="note">
                    ğŸ“ ãƒ©ãƒ³ãƒ€ãƒ æŠ½é¸ã«ã‚ˆã‚Š NFT/GLB/ãƒˆãƒ¼ã‚¯ãƒ³ ã®ã„ãšã‚Œã‹ãŒè‡ªå‹•é…å¸ƒã•ã‚Œã¾ã™
                  </p>
                </div>
              </div>
            ) : (
              <div className="non-owner-message">
                <p>âš ï¸ ã‚·ã‚¹ãƒ†ãƒ ã‚ªãƒ¼ãƒŠãƒ¼ã®ã¿SBTæ©Ÿèƒ½ã‚’ç®¡ç†ã§ãã¾ã™</p>
              </div>
            )}

            {/* ãƒˆãƒ¼ã‚¯ãƒ³æƒ…å ±ç¢ºèª */}
            <div className="function-group">
              <h4>ğŸ” SBTæƒ…å ±ç¢ºèª</h4>
              <div className="form-group">
                <input
                  type="text"
                  placeholder="ãƒˆãƒ¼ã‚¯ãƒ³ID"
                  value={tokenInfoId}
                  onChange={(e) => setTokenInfoId(e.target.value)}
                />
                <button onClick={handleGetTokenInfo}>
                  æƒ…å ±ã‚’å–å¾—
                </button>
              </div>
              
              {tokenInfo && (
                <div className="token-info">
                  <h5>ãƒˆãƒ¼ã‚¯ãƒ³ #{tokenInfoId} æƒ…å ±</h5>
                  <p><strong>ã‚ªãƒ¼ãƒŠãƒ¼:</strong> {tokenInfo.owner}</p>
                  <p><strong>ãƒ©ãƒ³ã‚¯:</strong> {tokenInfo.rank}</p>
                  <p><strong>SBT:</strong> {tokenInfo.isSoulbound ? "ã¯ã„" : "ã„ã„ãˆ"}</p>
                  <p><strong>çŠ¶æ…‹ãƒ•ãƒ©ã‚°:</strong> {tokenInfo.status ? "ã‚¢ã‚¯ãƒ†ã‚£ãƒ–" : "éã‚¢ã‚¯ãƒ†ã‚£ãƒ–"}</p>
                  <p><strong>å ±é…¬å—å–æ¸ˆã¿:</strong> {tokenInfo.hasReward ? "ã¯ã„" : "ã„ã„ãˆ"}</p>
                  {tokenInfo.glbURI && (
                    <p><strong>GLBå ±é…¬:</strong> <a href={tokenInfo.glbURI} target="_blank" rel="noopener noreferrer">ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</a></p>
                  )}
                </div>
              )}
            </div>
          </div>
        )}

        {activeTab === "standard" && (
          <div className="standard-tab">
            <div className="patent-safe-info">
              <h3>âœ… ç‰¹è¨±å›é¿æ©Ÿèƒ½ - é€šå¸¸NFT</h3>
              <div className="safe-box">
                <p>âœ… <strong>ç‰¹è¨±å¯¾è±¡å¤–æ©Ÿèƒ½ã§ã™</strong></p>
                <p>ä»¥ä¸‹ã®åŸå‰‡ã«ã‚ˆã‚Šç‰¹è¨±ã‚’å›é¿ã—ã¦ã„ã¾ã™ï¼š</p>
                <ul>
                  <li>æ‰‹å‹•æ“ä½œã®ã¿ï¼ˆè‡ªå‹•é…å¸ƒãªã—ï¼‰</li>
                  <li>çŠ¶æ…‹ãƒ•ãƒ©ã‚°åˆ¶å¾¡ãªã—</li>
                  <li>ãƒ©ãƒ³ãƒ€ãƒ æŠ½é¸ãªã—</li>
                  <li>GifterraCoreã¨ã®å‡¦ç†é€£æºãªã—</li>
                </ul>
              </div>
            </div>

            {isUserOwner ? (
              <div className="admin-functions">
                {/* ç®¡ç†è€…ãƒŸãƒ³ãƒˆ */}
                <div className="function-group">
                  <h4>ğŸ‘‘ ç®¡ç†è€…ãƒŸãƒ³ãƒˆ</h4>
                  <div className="form-group">
                    <input
                      type="text"
                      placeholder="ãƒŸãƒ³ãƒˆå…ˆã‚¢ãƒ‰ãƒ¬ã‚¹"
                      value={mintAddress}
                      onChange={(e) => setMintAddress(e.target.value)}
                    />
                    <input
                      type="text"
                      placeholder="ãƒˆãƒ¼ã‚¯ãƒ³URI"
                      value={tokenURI}
                      onChange={(e) => setTokenURI(e.target.value)}
                    />
                    <button onClick={handleMintStandardNFT} disabled={isLoading}>
                      é€šå¸¸NFTã‚’ãƒŸãƒ³ãƒˆ
                    </button>
                  </div>
                  <p className="note">
                    ğŸ“ ç®¡ç†è€…ã«ã‚ˆã‚‹æ‰‹å‹•ãƒŸãƒ³ãƒˆï¼ˆè‡ªå‹•å‡¦ç†ãªã—ï¼‰
                  </p>
                </div>
              </div>
            ) : (
              <div className="non-owner-message">
                <p>âš ï¸ ã‚·ã‚¹ãƒ†ãƒ ã‚ªãƒ¼ãƒŠãƒ¼ã®ã¿ç®¡ç†è€…ãƒŸãƒ³ãƒˆæ©Ÿèƒ½ã‚’ä½¿ç”¨ã§ãã¾ã™</p>
              </div>
            )}

            {/* ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒŸãƒ³ãƒˆ */}
            <div className="function-group">
              <h4>ğŸ’° ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒŸãƒ³ãƒˆ</h4>
              {stats?.nft.isPublicMintEnabled ? (
                <div className="form-group">
                  <input
                    type="text"
                    placeholder="ãƒˆãƒ¼ã‚¯ãƒ³URIï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰"
                    value={tokenURI}
                    onChange={(e) => setTokenURI(e.target.value)}
                  />
                  <button 
                    onClick={() => publicMintStandardNFT(tokenURI, stats.nft.currentMintPrice)}
                    disabled={isLoading}
                  >
                    {stats.nft.currentMintPrice} ETH ã§ãƒŸãƒ³ãƒˆ
                  </button>
                </div>
              ) : (
                <p>ç¾åœ¨ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒŸãƒ³ãƒˆã¯ç„¡åŠ¹ã§ã™</p>
              )}
              <p className="note">
                ğŸ“ ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚ˆã‚‹æ˜ç¤ºçš„æ“ä½œï¼ˆæ‰‹å‹•ãƒŸãƒ³ãƒˆï¼‰
              </p>
            </div>

            {/* NFTçµ±è¨ˆ */}
            <div className="function-group">
              <h4>ğŸ“ˆ çµ±è¨ˆæƒ…å ±</h4>
              {stats && (
                <div className="nft-stats-detailed">
                  <p><strong>ç¾åœ¨ã®ç™ºè¡Œæ•°:</strong> {stats.nft.totalSupply}</p>
                  <p><strong>æœ€å¤§ä¾›çµ¦é‡:</strong> {stats.nft.currentMaxSupply || "ç„¡åˆ¶é™"}</p>
                  <p><strong>ãƒŸãƒ³ãƒˆä¾¡æ ¼:</strong> {stats.nft.currentMintPrice} ETH</p>
                  <p><strong>ç·å£²ä¸Š:</strong> {stats.nft.revenue} ETH</p>
                  <p><strong>ãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒŸãƒ³ãƒˆ:</strong> 
                    <span className={stats.nft.isPublicMintEnabled ? "enabled" : "disabled"}>
                      {stats.nft.isPublicMintEnabled ? " æœ‰åŠ¹" : " ç„¡åŠ¹"}
                    </span>
                  </p>
                  <p><strong>ã‚³ãƒ³ãƒˆãƒ©ã‚¯ãƒˆçŠ¶æ…‹:</strong> 
                    <span className={stats.nft.isPaused ? "paused" : "active"}>
                      {stats.nft.isPaused ? " ä¸€æ™‚åœæ­¢" : " ç¨¼åƒä¸­"}
                    </span>
                  </p>
                </div>
              )}
            </div>
          </div>
        )}
      </div>

      {/* ã‚¹ã‚¿ã‚¤ãƒ« */}
      <style>{`
        .gifterra-dashboard {
          max-width: 1200px;
          margin: 0 auto;
          padding: 20px;
          font-family: 'Inter', sans-serif;
        }

        .dashboard-header {
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color: white;
          padding: 30px;
          border-radius: 12px;
          margin-bottom: 30px;
        }

        .dashboard-header h2 {
          margin: 0 0 20px 0;
          font-size: 2rem;
        }

        .system-info p {
          margin: 5px 0;
          opacity: 0.9;
        }

        .tab-navigation {
          display: flex;
          gap: 10px;
          margin-bottom: 30px;
          border-bottom: 1px solid #e0e0e0;
        }

        .tab-navigation button {
          padding: 12px 24px;
          border: none;
          background: none;
          cursor: pointer;
          font-size: 16px;
          border-bottom: 3px solid transparent;
          transition: all 0.3s ease;
        }

        .tab-navigation button.active {
          border-bottom-color: #667eea;
          background: rgba(102, 126, 234, 0.1);
        }

        .tab-navigation button:hover {
          background: rgba(102, 126, 234, 0.05);
        }

        .error-message {
          background: #ffebee;
          color: #c62828;
          padding: 15px;
          border-radius: 8px;
          margin-bottom: 20px;
          border-left: 4px solid #c62828;
        }

        .loading-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.5);
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          font-size: 18px;
          z-index: 1000;
        }

        .stats-grid {
          display: grid;
          grid-template-columns: 1fr 1fr;
          gap: 20px;
          margin-bottom: 30px;
        }

        .stat-card {
          padding: 20px;
          border-radius: 8px;
          border: 1px solid #e0e0e0;
        }

        .stat-card.sbt-stats {
          background: linear-gradient(135deg, #ffcdd2 0%, #ffebee 100%);
          border-color: #f44336;
        }

        .stat-card.nft-stats {
          background: linear-gradient(135deg, #c8e6c9 0%, #e8f5e8 100%);
          border-color: #4caf50;
        }

        .stat-card h4 {
          margin: 0 0 15px 0;
          font-size: 1.2rem;
        }

        .stat-card p {
          margin: 8px 0;
        }

        .contract-addresses {
          background: #f5f5f5;
          padding: 20px;
          border-radius: 8px;
        }

        .contract-addresses code {
          background: #333;
          color: #fff;
          padding: 4px 8px;
          border-radius: 4px;
          font-family: 'Monaco', monospace;
          font-size: 12px;
        }

        .patent-warning, .patent-safe-info {
          margin-bottom: 30px;
        }

        .warning-box {
          background: linear-gradient(135deg, #ffcdd2 0%, #ffebee 100%);
          border: 2px solid #f44336;
          padding: 20px;
          border-radius: 8px;
          margin-top: 15px;
        }

        .safe-box {
          background: linear-gradient(135deg, #c8e6c9 0%, #e8f5e8 100%);
          border: 2px solid #4caf50;
          padding: 20px;
          border-radius: 8px;
          margin-top: 15px;
        }

        .warning-box ul, .safe-box ul {
          margin: 10px 0;
          padding-left: 20px;
        }

        .function-group {
          background: white;
          border: 1px solid #e0e0e0;
          border-radius: 8px;
          padding: 20px;
          margin-bottom: 20px;
        }

        .function-group h4 {
          margin: 0 0 15px 0;
          color: #333;
        }

        .form-group {
          display: flex;
          gap: 10px;
          align-items: center;
          flex-wrap: wrap;
        }

        .form-group input, .form-group select {
          padding: 10px;
          border: 1px solid #ddd;
          border-radius: 4px;
          font-size: 14px;
          min-width: 200px;
        }

        .form-group button {
          padding: 10px 20px;
          background: #667eea;
          color: white;
          border: none;
          border-radius: 4px;
          cursor: pointer;
          font-size: 14px;
          transition: background 0.3s ease;
        }

        .form-group button:hover:not(:disabled) {
          background: #5a67d8;
        }

        .form-group button:disabled {
          background: #ccc;
          cursor: not-allowed;
        }

        .note {
          font-size: 12px;
          color: #666;
          margin-top: 10px;
          font-style: italic;
        }

        .non-owner-message {
          background: #fff3cd;
          border: 1px solid #ffeaa7;
          padding: 15px;
          border-radius: 8px;
          color: #856404;
          text-align: center;
        }

        .token-info {
          background: #f8f9fa;
          border: 1px solid #dee2e6;
          padding: 15px;
          border-radius: 8px;
          margin-top: 15px;
        }

        .token-info h5 {
          margin: 0 0 10px 0;
          color: #495057;
        }

        .token-info p {
          margin: 5px 0;
          font-size: 14px;
        }

        .token-info a {
          color: #667eea;
          text-decoration: none;
        }

        .token-info a:hover {
          text-decoration: underline;
        }

        .nft-stats-detailed p {
          margin: 8px 0;
          font-size: 14px;
        }

        .enabled {
          color: #4caf50;
          font-weight: bold;
        }

        .disabled {
          color: #f44336;
          font-weight: bold;
        }

        .active {
          color: #4caf50;
          font-weight: bold;
        }

        .paused {
          color: #ff9800;
          font-weight: bold;
        }

        .loading-container {
          text-align: center;
          padding: 50px;
        }

        .loading-container h3 {
          color: #667eea;
        }

        .error {
          color: #f44336;
          font-size: 14px;
        }

        @media (max-width: 768px) {
          .stats-grid {
            grid-template-columns: 1fr;
          }
          
          .form-group {
            flex-direction: column;
            align-items: stretch;
          }
          
          .form-group input,
          .form-group select,
          .form-group button {
            min-width: auto;
            width: 100%;
          }
        }
      `}</style>
    </div>
  );
};